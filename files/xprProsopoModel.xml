<xf:model id="prosopo" xmlns:xf="http://www.w3.org/2002/xforms" xmlns:ev="http://www.w3.org/2001/xml-events">
        <!--Instance principale-->
        <xf:instance id="xprProsopo" src="/xpr/files/_xprProsopoInstance.xml"/>

        <xf:instance id="xprSources" src="/xpr/sources"/>

        <xf:instance id="xprSupplement" src="/xpr/files/_xprSupplement.xml"/>

        <xf:submission id="submitBio" resource="/xpr/biographies/put" method="put" replace="none">
                <xf:action ev:event="xforms-submit-done">
                        <xf:message level="ephemeral"> So Good ! </xf:message>
                        <xf:load show="replace">
                                <xf:resource value="'/xpr/biographies/new'"/>
                        </xf:load>
                </xf:action>
                <xf:action ev:event="xforms-submit-error">
                        <xf:message>Votre formulaire n’a pas pu être enregistré, merci de corriger les erreurs</xf:message>
                </xf:action>
        </xf:submission>
        
        <xf:submission id="reloadSources" method="get" resource="/xpr/sources" replace="instance" instance="xprSources"/>

        <xf:bind id="entityType" nodeset="eac:cpfDescription/eac:identity/eac:entityType"/>
        <xf:bind id="nameEntry" nodeset="eac:cpfDescription/eac:identity/eac:nameEntry"/>

        <xf:bind id="chronItem" nodeset="instance('xprProsopo')/eac:cpfDescription/eac:description/eac:biogHist/eac:chronList/eac:chronItem"/>
        <xf:bind id="chronItemType" nodeset="instance('xprProsopo')/eac:cpfDescription/eac:description/eac:biogHist/eac:chronList/eac:chronItem/@localType"/>
        <xf:bind id="chronItemDate" nodeset="instance('xprProsopo')/eac:cpfDescription/eac:description/eac:biogHist/eac:chronList/eac:chronItem/eac:date"/>
        <xf:bind id="chronItemPlace" nodeset="instance('xprProsopo')/eac:cpfDescription/eac:description/eac:biogHist/eac:chronList/eac:chronItem/eac:placeEntry"/>
        <xf:bind id="chronItemEvent" nodeset="instance('xprProsopo')/eac:cpfDescription/eac:description/eac:biogHist/eac:chronList/eac:chronItem/eac:event"/>
        <xf:bind id="chronItemParticipant" nodeset="instance('xprProsopo')/eac:cpfDescription/eac:description/eac:biogHist/eac:chronList/eac:chronItem/rico:participant"/>
        <xf:bind id="chronItemInvolve" nodeset="instance('xprProsopo')/eac:cpfDescription/eac:description/eac:biogHist/eac:chronList/eac:chronItem/rico:involve"/>
        <xf:bind id="chronItemSource" nodeset="instance('xprProsopo')/eac:cpfDescription/eac:description/eac:biogHist/eac:chronList/eac:chronItem/xpr:source"/>


        <xf:bind id="bindSource" nodeset="instance('xprSources')/*"/>
        
        
        <xf:instance id="xprSource" src="/xpr/files/_xprSourceInstance.xml"/>
        
        <xf:submission id="submitSource" ref="instance('xprSource')" resource="/xpr/sources/put" method="put" replace="none">
                <xf:action ev:event="xforms-submit-done">
                        <xf:message level="ephemeral">So Good !</xf:message>
                        <xf:send submission="reloadSources"/>
                </xf:action>
                <xf:action ev:event="xforms-submit-error">
                        <xf:message>Votre formulaire n’a pas pu être enregistré, merci de corriger les erreurs</xf:message>
                </xf:action>
        </xf:submission>
        
</xf:model>
